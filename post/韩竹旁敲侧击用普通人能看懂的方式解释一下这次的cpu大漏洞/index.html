<!DOCTYPE html>
<html lang="zh-cn">

<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <link rel="alternate" type="application/rss+xml" title="RSS" href="../../post/index.xml">
    
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:site" content="@SpeechFreedomCN">
    <meta name="twitter:creator" content="@SpeechFreedomCN">
    <meta name="og:title" content=" 韩竹：“旁敲侧击”——用普通人能看懂的方式解释一下这次的CPU大漏洞 | 墙外楼 " />
    <meta name="og:description" content="假定你希望知道你老板最近在哪里出差，但是按照公司规定，你是无法知道老板行踪的。所以你决定尝试窃取这个秘密。
于是，你给老板的秘书打电话说“你能不能帮我查下老板的日程，看看老板在哪里出差，再帮我去公司CRM系统里面查下，看看那边我名下近期需要拜访的重点客户，这些可能是需要老板帮忙拜访的。”
秘书很敬业，先是查了老板的日程，发现老板在北京；然后又花了几分钟时间从CRM系统里把近期需要拜访的北京重点客户名单拿出来。这时，她突然反应过来你是不应该知道老板现在在哪里的。于是她回电话告诉你“不好意思，我觉得你不应该了解老板去了哪里。”
你回复道：“那好吧，忘记刚才的一切，现在我想查询一下有哪些上海、广州、深圳、北京的重点客户是我近期需要拜访的？”
因为秘书刚刚已经从系统里查到了北京对应的客户，并且你有权限了解这些，她立即就回答你：“近期需要拜访的北京重点客户有A,B,C…….”，几分钟后，她再补充：“近期需要拜访的上海、广州、深圳重点客户…….”
通常情况下，从系统里面调取出这些信息需要好几分钟，但是秘书能立即告诉你北京的客户信息，于是你就知道刚才她在CRM系统里查询的地点是北京，所以你就可以推测得到老板是在北京出差。最终，秘密就这样泄露了。
CPU执行的过程，有一个很重要的加速优化技术叫做“speculative execution”, 其实就和以上比喻中秘书的工作方式一样， 她只有在告诉你结果的时候，才发现你不应该了解这个信息。但是此时，通过下一步执行结果的速度变化， 仍然有可能暴露重要的信息，这就是所谓的”time based side channel attack（基于时间的旁路攻击）”。
Intel的CPU在服务器市场可能占据了99%的份额，一旦它出了问题，就意味着有很多服务器上的敏感数据都可能泄露。 因此这是一次非常严重的安全事故，有可能比Heartbleed更严重。
所以，似乎也解释了为啥打完补丁后会引起性能的下降。" />
    <meta name="og:image"
        content="https://opvlbqxurl.execute-api.ap-northeast-2.amazonaws.com/prod/random?keyword=programming&slug=韩竹：“旁敲侧击”——用普通人能看懂的方式解释一下这次的CPU大漏洞" />
    <title> 韩竹：“旁敲侧击”——用普通人能看懂的方式解释一下这次的CPU大漏洞 | 墙外楼</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    
<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
	(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
	m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
	})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
	ga('create', 'UA-151212685-5', 'auto');
	
	ga('send', 'pageview');
}
</script>

    
<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
	ga('create', 'UA-151212685-5', 'auto');
	
	ga('send', 'pageview');
}
</script>
<script async src='https://www.google-analytics.com/analytics.js'></script>

    <link href="https://fonts.googleapis.com/css?family=Open+Sans" rel="stylesheet">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bulma/0.7.1/css/bulma.min.css" />
    <link rel="stylesheet" href="https://speechfree.github.io/letscorp/css/blog.css" />
    
    <!-- plugins -->
    
    <link rel="stylesheet" href="https://speechfree.github.io/letscorp/plugins/bootstrap/bootstrap.min.css ">
    
    <link rel="stylesheet" href="https://speechfree.github.io/letscorp/plugins/themify-icons/themify-icons.css ">
    

</head>

<body>

    
    <nav class="navbar is-fixed-top" role="navigation" aria-label="main navigation">
        <div class="navbar-brand">
            <a class="navbar-item" href="https://speechfree.github.io/letscorp/">Home</a>
        </div>
        <div class="navbar-brand">
            <a class="navbar-item" href="https://speechfree.github.io/letscorp/post/index.xml">RSS</a>
        </div>
    </nav>
    

    
    <section class="hero is-info is-medium">
        <div class="hero-body" style="background-image: url(https://speechfree.github.io/letscorp/img/bg-blog.jpg);">
            <div class="container has-text-centered">
                <br>
                <h1 class="title is-size-1">
                    
                    韩竹：“旁敲侧击”——用普通人能看懂的方式解释一下这次的CPU大漏洞
                    
                </h1>
                
            </div>
        </div>
    </section>

<div class="container">
    <div class="section">
    

<div class="columns">
    <div class="column is-12">
        <div class="tile is-child box">
            

            <div class="content">
                <p>假定你希望知道你老板最近在哪里出差，但是按照公司规定，你是无法知道老板行踪的。所以你决定尝试窃取这个秘密。</p>

<p>于是，你给老板的秘书打电话说“你能不能帮我查下老板的日程，看看老板在哪里出差，再帮我去公司CRM系统里面查下，看看那边我名下近期需要拜访的重点客户，这些可能是需要老板帮忙拜访的。”</p>

<p>秘书很敬业，先是查了老板的日程，发现老板在北京；然后又花了几分钟时间从CRM系统里把近期需要拜访的北京重点客户名单拿出来。这时，她突然反应过来你是不应该知道老板现在在哪里的。于是她回电话告诉你“不好意思，我觉得你不应该了解老板去了哪里。”</p>

<p>你回复道：“那好吧，忘记刚才的一切，现在我想查询一下有哪些上海、广州、深圳、北京的重点客户是我近期需要拜访的？”</p>

<p>因为秘书刚刚已经从系统里查到了北京对应的客户，并且你有权限了解这些，她立即就回答你：“近期需要拜访的北京重点客户有A,B,C…….”，几分钟后，她再补充：“近期需要拜访的上海、广州、深圳重点客户…….”</p>

<p>通常情况下，从系统里面调取出这些信息需要好几分钟，但是秘书能立即告诉你北京的客户信息，于是你就知道刚才她在CRM系统里查询的地点是北京，所以你就可以推测得到老板是在北京出差。最终，秘密就这样泄露了。</p>

<p>CPU执行的过程，有一个很重要的加速优化技术叫做“speculative execution”, 其实就和以上比喻中秘书的工作方式一样， 她只有在告诉你结果的时候，才发现你不应该了解这个信息。但是此时，通过下一步执行结果的速度变化， 仍然有可能暴露重要的信息，这就是所谓的”time based side channel attack（基于时间的旁路攻击）”。</p>

<p>Intel的CPU在服务器市场可能占据了99%的份额，一旦它出了问题，就意味着有很多服务器上的敏感数据都可能泄露。 因此这是一次非常严重的安全事故，有可能比Heartbleed更严重。</p>

<p>所以，似乎也解释了为啥打完补丁后会引起性能的下降。</p>

            </div>
            
        </div>
    </div>
</div>


    </div>
</div>

<footer class="footer has-background-grey-darker has-text-white">
    <div class="content has-text-centered">
        <p>
            <br><br>
            <br><br>
            Copyright &copy; 墙外楼 2019
        </p>
    </div>
</footer>

<script defer src="https://use.fontawesome.com/releases/v5.1.0/js/all.js"></script>
</body>

</html>